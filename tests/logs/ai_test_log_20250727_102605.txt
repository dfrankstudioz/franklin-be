[2025-07-27 10:26:05] 🧠 Starting AI Middleware Preflight + Test Suite

[2025-07-27 10:26:05] 🔍 Checking Docker containers...
[2025-07-27 10:26:05] ✅ Container ollama is running.
[2025-07-27 10:26:05] ✅ Container ai_middleware is running.
[2025-07-27 10:26:05] ✅ Container gpt-relay is running.
[2025-07-27 10:26:05] 🔍 Checking open ports...
[2025-07-27 10:26:05] ✅ Port 11434 (Ollama) is open.
[2025-07-27 10:26:05] ✅ Port 9000 (GPT Relay) is open.
[2025-07-27 10:26:05] ✅ Port 9006 (Middleware) is open.
[2025-07-27 10:26:05] 🔍 Checking API endpoints...
[2025-07-27 10:26:05] ❌ /api/version failed.
[2025-07-27 10:26:05] ❌ /api/tags failed.
[2025-07-27 10:26:05] 
🧪 Running AI Middleware Functional Tests...

[2025-07-27 10:26:05] ▶️ Running test_ollama_status.py...
✅ Ollama is reachable.

[2025-07-27 10:26:06] ✅ test_ollama_status.py PASSED

[2025-07-27 10:26:06] ▶️ Running test_gpt_relay.py...
❌ GPT relay test failed: ('Connection aborted.', ConnectionResetError(104, 'Connection reset by peer'))

[2025-07-27 10:26:06] ❌ test_gpt_relay.py FAILED

[2025-07-27 10:26:06] ▶️ Running test_ai_middleware.py...
❌ Middleware test failed: 

[2025-07-27 10:26:06] ❌ test_ai_middleware.py FAILED

[2025-07-27 10:26:06] ▶️ Running test_file_upload.py...
❌ File upload test failed: 

[2025-07-27 10:26:06] ❌ test_file_upload.py FAILED

[2025-07-27 10:26:06] ▶️ Running test_rag.py...
❌ RAG test failed: 

[2025-07-27 10:26:08] ❌ test_rag.py FAILED

[2025-07-27 10:26:08] ▶️ Running test_rag_fallback.py...
❌ RAG fallback test failed: 

[2025-07-27 10:26:08] ❌ test_rag_fallback.py FAILED

[2025-07-27 10:26:08] ▶️ Running test_model_list.py...
❌ Model list test failed: 

[2025-07-27 10:26:09] ❌ test_model_list.py FAILED

[2025-07-27 10:26:09] ▶️ Running test_streaming_response.py...
✅ Streaming test passed (1 chunks).

[2025-07-27 10:26:09] ✅ test_streaming_response.py PASSED

[2025-07-27 10:26:09] ▶️ Running test_version_output.py...
❌ Version test failed: 

[2025-07-27 10:26:09] ❌ test_version_output.py FAILED

[2025-07-27 10:26:09] ✅ All tests complete.

